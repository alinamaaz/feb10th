<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <style>
      html,
      body {
        margin: 0 !important;
        padding: 0 !important;
        overflow: hidden;
      }
      #starfield {
        display: block;
        background: #111;
      }
    </style>
  </head>
  <body>
    <canvas id="starfield"></canvas>
    <script>
      var canvas = document.getElementById("starfield");
      var context = canvas.getContext("2d");
      var stars = 1000;
      var colorrange = [0, 60, 240];
      var starArray = [];

      function getRandom(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function resizeCanvas() {
        const dpr = window.devicePixelRatio || 1;
        canvas.width = window.innerWidth * dpr;
        canvas.height = window.innerHeight * dpr;
        canvas.style.width = window.innerWidth + "px";
        canvas.style.height = window.innerHeight + "px";
        context.setTransform(dpr, 0, 0, dpr, 0, 0);

        // re-initialize stars to fill the new canvas
        starArray = [];
        for (var i = 0; i < stars; i++) {
          var x = Math.random() * window.innerWidth;
          var y = Math.random() * window.innerHeight;
          var radius = Math.random() * 1.2;
          var hue = colorrange[getRandom(0, colorrange.length - 1)];
          var sat = getRandom(50, 100);
          var opacity = Math.random();
          starArray.push({ x, y, radius, hue, sat, opacity });
        }
      }

      resizeCanvas(); // initial setup

      window.addEventListener("resize", resizeCanvas);

      var frameNumber = 0;
      var opacity = 0;
      var secondOpacity = 0;

      function drawStars() {
        for (var i = 0; i < stars; i++) {
          var star = starArray[i];
          context.beginPath();
          context.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
          context.fillStyle =
            "hsla(" +
            star.hue +
            ", " +
            star.sat +
            "%, 88%, " +
            star.opacity +
            ")";
          context.fill();
        }
      }

      function updateStars() {
        for (var i = 0; i < stars; i++) {
          if (Math.random() > 0.99) {
            starArray[i].opacity = Math.random();
          }
        }
      }

      function drawText() {
        var cw = window.innerWidth;
        var ch = window.innerHeight;
        var fontSize = Math.min(30, cw / 24); // Adjust font size based on screen width
        var lineHeight = 8;

        context.font = fontSize + "px Comic Sans MS";
        context.textAlign = "left";

        // glow effect
        context.shadowColor = "rgba(45, 45, 255, 1)";
        context.shadowBlur = 8;
        context.shadowOffsetX = 0;
        context.shadowOffsetY = 0;

        if (frameNumber < 150) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("...", cw * 0.2, ch / 2);
          opacity = opacity + 0.01;
        }
        //fades out the text by decreasing the opacity
        if (frameNumber >= 150 && frameNumber < 300) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("...", cw * 0.2, ch / 2);
          opacity = opacity - 0.01;
        }

        //needs this if statement to reset the opacity before next statement on canvas
        if (frameNumber == 300) {
          opacity = 0;
        }
        if (frameNumber > 300 && frameNumber < 450) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;

          context.fillText("maaz?", cw * 0.2, ch / 2);

          opacity = opacity + 0.01;
        }
        if (frameNumber >= 450 && frameNumber < 600) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("maaz?", cw * 0.2, ch / 2);

          opacity = opacity - 0.01;
        }

        if (frameNumber == 600) {
          opacity = 0;
        }

        if (frameNumber > 600 && frameNumber < 750) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("where are we?", cw * 0.2, ch / 2);
          opacity = opacity + 0.01;
        }
        if (frameNumber >= 750 && frameNumber < 900) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("where are we?", cw * 0.2, ch / 2);
          opacity = opacity - 0.01;
        }

        if (frameNumber == 900) {
          opacity = 0;
        }
        if (frameNumber > 900 && frameNumber < 1050) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("wait, really?", cw * 0.2, ch / 2);
          opacity = opacity + 0.01;
        }
        if (frameNumber >= 1050 && frameNumber < 1200) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("wait, really?", cw * 0.2, ch / 2);
          opacity = opacity - 0.01;
        }

        if (frameNumber == 1200) {
          opacity = 0;
        }

        if (frameNumber > 1200 && frameNumber < 1500) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("whoa", cw * 0.2, ch / 2);

          opacity = opacity + 0.01;
        }
        if (frameNumber > 1350 && frameNumber < 1500) {
          context.fillStyle = `rgba(45, 45, 255, ${secondOpacity})`;
          context.fillText("so this is blanket world", cw * 0.2, ch / 2 + 50);

          secondOpacity = secondOpacity + 0.01;
        }
        if (frameNumber >= 1500 && frameNumber < 1650) {
          opacity = secondOpacity;
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("whoa", cw * 0.2, ch / 2);

          opacity = opacity - 0.01;
        }
        if (frameNumber >= 1500 && frameNumber < 1650) {
          context.fillStyle = `rgba(45, 45, 255, ${secondOpacity})`;
          context.fillText("so this is blanket world", cw * 0.2, ch / 2 + 50);

          secondOpacity = secondOpacity - 0.01;
        }

        if (frameNumber == 1650) {
          opacity = 0;
          secondOpacity = 0;
        }

        if (frameNumber > 1650 && frameNumber < 1800) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText(
            "hey...it's a little cold, isn't it?",
            cw * 0.2,
            ch / 2,
          );
          opacity = opacity + 0.01;
        }
        if (frameNumber >= 1800 && frameNumber < 1950) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText(
            "hey...it's a little cold, isn't it?",
            cw * 0.2,
            ch / 2,
          );
          opacity = opacity - 0.01;
        }

        if (frameNumber == 1950) {
          opacity = 0;
        }

        if (frameNumber > 1950 && frameNumber < 2250) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("that's better", cw * 0.2, ch / 2);
          opacity = opacity + 0.01;
        }
        if (frameNumber > 2100 && frameNumber < 2250) {
          context.fillStyle = `rgba(45, 45, 255, ${secondOpacity})`;
          context.fillText("you feel so nice and warm.", cw * 0.2, ch / 2 + 50);
          secondOpacity = secondOpacity + 0.01;
        }
        if (frameNumber >= 2250 && frameNumber < 2400) {
          opacity = secondOpacity;
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("that's better", cw * 0.2, ch / 2);
          opacity = opacity - 0.01;
        }
        if (frameNumber >= 2250 && frameNumber < 2400) {
          context.fillStyle = `rgba(45, 45, 255, ${secondOpacity})`;
          context.fillText("you feel so nice and warm.", cw * 0.2, ch / 2 + 50);
          secondOpacity = secondOpacity - 0.01;
        }

        if (frameNumber == 2400) {
          opacity = 0;
          secondOpacity = 0;
        }

        if (frameNumber > 2400 && frameNumber < 2550) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("it's so lovely here.", cw * 0.2, ch / 2);
          opacity = opacity + 0.01;
        }
        if (frameNumber >= 2550 && frameNumber < 2700) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("it's so lovely here.", cw * 0.2, ch / 2);
          opacity = opacity - 0.01;
        }

        //////////////////////////////////////////////////////////////////////////////////
        if (frameNumber == 2700) {
          opacity = 0;
        }

        //////////////////////////////////////////////////////////////////////////////////
        if (frameNumber > 2700 && frameNumber < 3000) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("just you and me", cw * 0.2, ch / 2);
          opacity = opacity + 0.01;
        }
        if (frameNumber >= 3000 && frameNumber < 3150) {
          opacity = secondOpacity;
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("just you and me", cw * 0.2, ch / 2);
          opacity = opacity - 0.01;
        }

        //////////////////////////////////////////////////////////////////////////////////

        if (frameNumber > 2850 && frameNumber < 3000) {
          context.fillStyle = `rgba(45, 45, 255, ${secondOpacity})`;
          context.fillText("in our own little world.", cw * 0.2, ch / 2 + 50);
          secondOpacity = secondOpacity + 0.01;
        }

        if (frameNumber >= 3000 && frameNumber < 3150) {
          context.fillStyle = `rgba(45, 45, 255, ${secondOpacity})`;
          context.fillText("in our own little world.", cw * 0.2, ch / 2 + 50);
          secondOpacity = secondOpacity - 0.01;
        }

        /////////////////////////////////////////////////////////////////////////////////

        if (frameNumber == 3150) {
          opacity = 0;
        }

        if (frameNumber >= 3150 && frameNumber < 99999) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("happy anniversary, maaz.", cw * 0.2, ch / 2);
          opacity = opacity + 0.01;
        }
        if (frameNumber >= 3150 && frameNumber < 99999) {
          context.fillStyle = `rgba(45, 45, 255, ${opacity})`;
          context.fillText("i love you so much.", cw * 0.2, ch / 2 + 50);
          opacity = opacity + 0.01;
        }

        // Reset the shadow effect after drawing the text
        context.shadowColor = "transparent";
        context.shadowBlur = 0;
        context.shadowOffsetX = 0;
        context.shadowOffsetY = 0;
      }

      function draw() {
        context.clearRect(0, 0, canvas.width, canvas.height); // clear canvas each frame
        drawStars();
        updateStars();
        drawText();
        if (frameNumber < 99999) frameNumber++;
        requestAnimationFrame(draw);
      }

      requestAnimationFrame(draw);
    </script>
  </body>
</html>
